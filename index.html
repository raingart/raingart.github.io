<!DOCTYPE html>
<html>

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Home</title>
   <link rel="icon" type="image/x-icon" href="/images/favicon.ico">

   <link rel="stylesheet" href="/css/normalize.min.css">
   <link rel="stylesheet" href="/css/index.css">

   <script src="/js/index/three.min.js"></script>
</head>

<body>
   <canvas id="canvas"></canvas>

   <div id="preloader-text">
      <div id="preloader-text-title" onclick="playSong()">raingart</div>
   </div>

   <script src="/js/index/renderRing.js"></script>

   
   <script>
      const nextSong = (function() {
        const songs = [
          '/musics/Jon Snow hip hop beatprod.Silent.mp3',
          '/musics/Krosah%20-%20E_S%20Posthumus%20-%20YUAULf3b8i0.m4a',
        ];
        //this.instance = -1;
        //return () => songs[++this.instance % songs.length];
        // radomised
        this.instance;
        return function() {
          if (!this.instance?.length) this.instance = songs.slice();
          return instance.splice(Math.random() * this.instance.length | 0, 1);
        }
      }());
      
      const song = new Audio();
      
      function playSong() {
        song.src = nextSong();
        song.play();
      }
      song.addEventListener('ended', playSong);
   </script>

</body>

</html>
